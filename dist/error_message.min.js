/**
 * @version 1.2.4
 * @license MIT
 * @Author MrWook
 */
!function(e,s){"use strict";e.module("mw-error-message",[]),e.module("mw-error-message").constant("mwConfig",{success:!0,label_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_inner_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_outer_classes:["error_message_box"],help_block_classes:["help-block"],additional_help_block:"",messages:{required:"ERROR_MSG_REQUIRED",email:"ERROR_MSG_EMAIL",maxlength:"ERROR_MSG_TOLONG",minlength:"ERROR_MSG_TOSHORT"},icon:!1,icon_template:'<span class="fa wm_error_message_icon"></span>',translate:!1,tooltip:!1}),e.module("mw-error-message").run(["$templateCache","$log","mwConfig",function(e,s,a){var t="",r="";1==a.translate&&(r="|translate"),angular.forEach(a.messages,function(e,s){t+='<ng-message when="'+s+'">{{"'+e+'"'+r+"}}</ng-message>"}),e.put("messages/tpl",t),e.put("mwErrorMessageTooltip/tpl",'<ol class="wm_error_tooltip"> <li ng-repeat="(key, value) in tooltip_content">{{value'+r+"}}</li> </ol>");try{angular.module("ngMessages")}catch(o){s.error("NgMessages is missing")}}]),e.module("mw-error-message").directive("mwErrorMessage",["$compile","$log","$parse","mwConfig",function(e,a,t,r){return{restrict:"A",priority:1001,terminal:!0,scope:!0,compile:function(t,o){return{pre:function(t,o,l,i){var n={};l.mwErrorMessageOptions!==s&&t.$parent[l.mwErrorMessageOptions]!==s&&(n=t.$parent[l.mwErrorMessageOptions]);var c=angular.copy(o.children(":first")),m="";c.attr("required")!==s&&(m="*"),c.attr("ng-required")!==s&&(m='<span ng-if="'+c.attr("ng-required")+'">*</span>');var p=o.html(),g=c.attr("name"),u=!1;0===g.indexOf("{{")&&g.indexOf("}}")===g.length-2?(g=g.replace("{{","").replace("}}",""),u=!0):g="'"+g+"'";var d=l.mwErrorMessage,_="";1==r.translate?(d=u?'"'+d+'"+'+g:'"'+d+g.toUpperCase()+'"',_="|translate"):d='"'+d+'"',o.addClass(r.div_outer_classes.join(" "));var v="";v=n.addHelp!==s&&""!=n.addHelp?n.addHelp:r.additional_help_block;var h="";if((1==n.icon||n.icon===s&&1==r.icon)&&(h=r.icon_template),1==n.tooltip||n.tooltip===s&&1==r.tooltip)try{angular.module("ui.bootstrap.tooltip"),o[0].setAttribute("uib-tooltip-template","'mwErrorMessageTooltip/tpl'"),o[0].setAttribute("tooltip-placement","auto left"),t.tooltip_content={},angular.forEach(r.messages,function(e,a){c.attr(a)!==s&&(t.tooltip_content[a]=e)}),"email"==c.attr("type")&&(t.tooltip_content.email=r.messages.email)}catch(f){a.error("ui-bootstrap-tooltip is missing")}for(var w=angular.element(o);"FORM"!==w.prop("tagName");)w=w.parent();var E=w.attr("name");1==n.success||n.success===s&&1==r.success?o.attr("ng-class","{ 'has-error': "+E+"["+g+"].$touched && "+E+"["+g+"].$invalid, 'has-success': "+E+"["+g+"].$touched && !"+E+"["+g+"].$invalid}"):o.attr("ng-class","{ 'has-error': "+E+"["+g+"].$touched && "+E+"["+g+"].$invalid }");var R='<label for="'+g+'" class="'+r.label_classes.join(" ")+'">{{ '+d+_+" }}"+m+'</label><div class="'+r.div_inner_classes.join(" ")+'">'+h+p+v+'<div class="'+r.help_block_classes.join(" ")+'" ng-messages="'+E+"["+g+'].$error" ng-if="'+E+"["+g+'].$touched"><div ng-messages-include="messages/tpl"></div></div></div>';o.html(R),o.removeAttr("mw-error-message"),e(o)(t)}}}}}])}(angular);