/**
 * @version 1.2.5
 * @license MIT
 * @Author MrWook
 */
!function(e,s){"use strict";e.module("mw-error-message",[]),e.module("mw-error-message").constant("mwConfig",{success:!0,label_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_inner_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_outer_classes:["error_message_box"],help_block_classes:["help-block"],additional_help_block:"",messages:{required:"ERROR_MSG_REQUIRED",email:"ERROR_MSG_EMAIL",maxlength:"ERROR_MSG_TOLONG",minlength:"ERROR_MSG_TOSHORT"},icon:!1,icon_template:'<span class="fa wm_error_message_icon"></span>',translate:!1,tooltip:!1}),e.module("mw-error-message").run(["$templateCache","$log","mwConfig",function(e,s,a){var r="",t="";angular.forEach(a.messages,function(e,s){r+='<ng-message when="'+s+'">{{"'+e+'"'+t+"}}</ng-message>"}),e.put("messages/tpl",r),e.put("mwErrorMessageTooltip/tpl",'<ol class="wm_error_tooltip"> <li ng-repeat="(key, value) in tooltip_content">{{value'+t+"}}</li> </ol>");try{angular.module("ngMessages")}catch(o){s.error("NgMessages is missing")}}]),e.module("mw-error-message").directive("mwErrorMessage",["$compile","$log","$parse","mwConfig",function(e,a,r,t){return{restrict:"A",priority:1001,terminal:!0,scope:!0,compile:function(r,o){return{pre:function(r,o,l,i){var n={};l.mwErrorMessageOptions!==s&&r.$parent[l.mwErrorMessageOptions]!==s&&(n=r.$parent[l.mwErrorMessageOptions]);var c=angular.copy(o.children(":first")),m="";c.attr("required")!==s&&(m="*"),c.attr("ng-required")!==s&&(m='<span ng-if="'+c.attr("ng-required")+'">*</span>');var p=o.html(),g=c.attr("name"),u=!1,d="";0===g.indexOf("{{")&&g.indexOf("}}")===g.length-2?(u=!0,g=g.replace("{{","").replace("}}",""),d=g):(d=g,g="'"+g+"'");var _=l.mwErrorMessage,v="",h=!1;0===_.indexOf("{{")&&_.indexOf("}}")===_.length-2&&(h=!0,_=_.replace("{{","").replace("}}","")),1==t.translate?h?(u||(d="'"+d+"'"),_=_+"+"+d,console.log(_)):(u?d="'+"+d:d+="'",_="'"+_+d.toUpperCase()):h||(_="'"+_+"'"),o.addClass(t.div_outer_classes.join(" "));var f="";f=n.addHelp!==s&&""!=n.addHelp?n.addHelp:t.additional_help_block;var w="";if((1==n.icon||n.icon===s&&1==t.icon)&&(w=t.icon_template),1==n.tooltip||n.tooltip===s&&1==t.tooltip)try{angular.module("ui.bootstrap.tooltip"),o[0].setAttribute("uib-tooltip-template","'mwErrorMessageTooltip/tpl'"),o[0].setAttribute("tooltip-placement","auto left"),r.tooltip_content={},angular.forEach(t.messages,function(e,a){c.attr(a)!==s&&(r.tooltip_content[a]=e)}),"email"==c.attr("type")&&(r.tooltip_content.email=t.messages.email)}catch(E){a.error("ui-bootstrap-tooltip is missing")}for(var O=angular.element(o);"FORM"!==O.prop("tagName");)O=O.parent();var R=O.attr("name");1==n.success||n.success===s&&1==t.success?o.attr("ng-class","{ 'has-error': "+R+"["+g+"].$touched && "+R+"["+g+"].$invalid, 'has-success': "+R+"["+g+"].$touched && !"+R+"["+g+"].$invalid}"):o.attr("ng-class","{ 'has-error': "+R+"["+g+"].$touched && "+R+"["+g+"].$invalid }");var b='<label for="'+g+'" class="'+t.label_classes.join(" ")+'">{{ '+_+v+" }}"+m+'</label><div class="'+t.div_inner_classes.join(" ")+'">'+w+p+f+'<div class="'+t.help_block_classes.join(" ")+'" ng-messages="'+R+"["+g+'].$error" ng-if="'+R+"["+g+'].$touched"><div ng-messages-include="messages/tpl"></div></div></div>';o.html(b),o.removeAttr("mw-error-message"),e(o)(r)}}}}}])}(angular);