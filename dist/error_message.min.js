/**
 * @version 1.2.3
 * @license MIT
 * @Author MrWook
 */
!function(e,s){"use strict";e.module("mw-error-message",[]),e.module("mw-error-message").constant("mwConfig",{success:!0,label_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_inner_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_outer_classes:["error_message_box"],help_block_classes:["help-block"],additional_help_block:"",messages:{required:"ERROR_MSG_REQUIRED",email:"ERROR_MSG_EMAIL",maxlength:"ERROR_MSG_TOLONG",minlength:"ERROR_MSG_TOSHORT"},icon:!1,icon_template:'<span class="fa wm_error_message_icon"></span>',translate:!1,tooltip:!1}),e.module("mw-error-message").run(["$templateCache","$log","mwConfig",function(e,s,a){var t="",r="";1==a.translate&&(r="|translate"),angular.forEach(a.messages,function(e,s){t+='<ng-message when="'+s+'">{{"'+e+'"'+r+"}}</ng-message>"}),e.put("messages/tpl",t),e.put("mwErrorMessageTooltip/tpl",'<ol class="wm_error_tooltip"> <li ng-repeat="(key, value) in tooltip_content">{{value'+r+"}}</li> </ol>");try{angular.module("ngMessages")}catch(o){s.error("NgMessages is missing")}}]),e.module("mw-error-message").directive("mwErrorMessage",["$compile","$log","$parse","mwConfig",function(e,a,t,r){return{restrict:"A",priority:1001,terminal:!0,scope:!0,compile:function(o,l){return{pre:function(o,l,n,i){var c={};n.mwErrorMessageOptions!==s&&(c=o.$parent[n.mwErrorMessageOptions]);var m=angular.copy(l.children(":first")),p="";m.attr("required")!==s&&(p="*"),m.attr("ng-required")!==s&&(p='<span ng-if="'+m.attr("ng-required")+'">*</span>');var g=l.html(),u=m.attr("name"),d=t(u)(o);d!==s&&(g=g.replace("name='"+u+"'","name='"+d+"'"),g=g.replace('name="'+u+'"','name="'+d+'"'),u=d,m.attr("name",u));var _=n.mwErrorMessage,v="";1==r.translate&&(_+=u.toUpperCase(),v="|translate"),l.addClass(r.div_outer_classes.join(" "));var h="";h=c.addHelp!==s&&""!=c.addHelp?c.addHelp:r.additional_help_block;var f="";if((1==c.icon||c.icon===s&&1==r.icon)&&(f=r.icon_template),1==c.tooltip||c.tooltip===s&&1==r.tooltip)try{angular.module("ui.bootstrap.tooltip"),l[0].setAttribute("uib-tooltip-template","'mwErrorMessageTooltip/tpl'"),l[0].setAttribute("tooltip-placement","auto left"),o.tooltip_content={},angular.forEach(r.messages,function(e,a){m.attr(a)!==s&&(o.tooltip_content[a]=e)}),"email"==m.attr("type")&&(o.tooltip_content.email=r.messages.email)}catch(w){a.error("ui-bootstrap-tooltip is missing")}for(var R=angular.element(l);"FORM"!==R.prop("tagName");)R=R.parent();var b=R.attr("name");1==c.success||c.success===s&&1==r.success?l.attr("ng-class","{ 'has-error': "+b+"."+u+".$touched && "+b+"."+u+".$invalid, 'has-success': "+b+"."+u+".$touched && !"+b+"."+u+".$invalid}"):l.attr("ng-class","{ 'has-error': "+b+"."+u+".$touched && "+b+"."+u+".$invalid }");var E='<label for="'+u+'" class="'+r.label_classes.join(" ")+'">{{ "'+_+'"'+v+" }}"+p+'</label><div class="'+r.div_inner_classes.join(" ")+'">'+f+g+h+'<div class="'+r.help_block_classes.join(" ")+'" ng-messages="'+b+"."+u+'.$error" ng-if="'+b+"."+u+'.$touched"><div ng-messages-include="messages/tpl"></div></div></div>';l.html(E),l.removeAttr("mw-error-message"),e(l)(o)}}}}}])}(angular);