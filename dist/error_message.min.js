/**
 * @version 1.2.2
 * @license MIT
 * @Author MrWook
 */
!function(e,s){"use strict";e.module("mw-error-message",[]),e.module("mw-error-message").constant("mwConfig",{success:!0,label_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_inner_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_outer_classes:["error_message_box"],help_block_classes:["help-block"],additional_help_block:"",messages:{required:"ERROR_MSG_REQUIRED",email:"ERROR_MSG_EMAIL",maxlength:"ERROR_MSG_TOLONG",minlength:"ERROR_MSG_TOSHORT"},icon:!1,icon_template:'<span class="fa wm_error_message_icon"></span>',translate:!1,tooltip:!1}),e.module("mw-error-message").run(["$templateCache","$log","mwConfig",function(e,s,t){var a="",r="";1==t.translate&&(r="|translate"),angular.forEach(t.messages,function(e,s){a+='<ng-message when="'+s+'">{{"'+e+'"'+r+"}}</ng-message>"}),e.put("messages/tpl",a),e.put("mwErrorMessageTooltip/tpl",'<ol class="wm_error_tooltip"> <li ng-repeat="(key, value) in tooltip_content">{{value'+r+"}}</li> </ol>");try{angular.module("ngMessages")}catch(o){s.error("NgMessages is missing")}}]),e.module("mw-error-message").directive("mwErrorMessage",["$compile","$log","mwConfig",function(e,t,a){return{restrict:"A",priority:1001,terminal:!0,scope:!0,compile:function(r,o){return{pre:function(r,o,l,i){var n={};l.mwErrorMessageOptions!==s&&(n=r.$parent[l.mwErrorMessageOptions]);var c=angular.copy(o.children(":first")),m="";c.attr("required")!==s&&(m="*"),c.attr("ng-required")!==s&&(m='<span ng-if="'+c.attr("ng-required")+'">*</span>');var g=c.attr("name"),p=l.mwErrorMessage,u="";1==a.translate&&(p+=g.toUpperCase(),u="|translate"),o.addClass(a.div_outer_classes.join(" "));var d="";d=n.addHelp!==s&&""!=n.addHelp?n.addHelp:a.additional_help_block;var _="";if((1==n.icon||n.icon===s&&1==a.icon)&&(_=a.icon_template),1==n.tooltip||n.tooltip===s&&1==a.tooltip)try{angular.module("ui.bootstrap.tooltip"),o[0].setAttribute("uib-tooltip-template","'mwErrorMessageTooltip/tpl'"),o[0].setAttribute("tooltip-placement","auto left"),r.tooltip_content={},angular.forEach(a.messages,function(e,t){c.attr(t)!==s&&(r.tooltip_content[t]=e)}),"email"==c.attr("type")&&(r.tooltip_content.email=a.messages.email)}catch(v){t.error("ui-bootstrap-tooltip is missing")}for(var h=angular.element(o);"FORM"!==h.prop("tagName");)h=h.parent();var f=h.attr("name");1==n.success||n.success===s&&1==a.success?o.attr("ng-class","{ 'has-error': "+f+"."+g+".$touched && "+f+"."+g+".$invalid, 'has-success': "+f+"."+g+".$touched && !"+f+"."+g+".$invalid}"):o.attr("ng-class","{ 'has-error': "+f+"."+g+".$touched && "+f+"."+g+".$invalid }");var w=o.html(),R='<label for="'+g+'" class="'+a.label_classes.join(" ")+'">{{ "'+p+'"'+u+" }}"+m+'</label><div class="'+a.div_inner_classes.join(" ")+'">'+_+w+d+'<div class="'+a.help_block_classes.join(" ")+'" ng-messages="'+f+"."+g+'.$error" ng-if="'+f+"."+g+'.$touched"><div ng-messages-include="messages/tpl"></div></div></div>';o.html(R),o.removeAttr("mw-error-message"),e(o)(r)}}}}}])}(angular);