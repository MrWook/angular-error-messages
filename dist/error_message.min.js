/**
 * @version 1.1.0
 * @license MIT
 * @Author MrWook
 */
!function(a,b){"use strict";a.module("mw-error-message",[]),a.module("mw-error-message").constant("mwConfig",{success:!0,label_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_inner_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_outer_classes:["error_message_box"],help_block_classes:["help-block"],additional_help_block:"",messages:{required:"ERROR_MSG_REQUIRED",email:"ERROR_MSG_EMAIL",maxlength:"ERROR_MSG_TOLONG",minlength:"ERROR_MSG_TOSHORT"},icon:!1,icon_template:'<span class="fa wm_error_message_icon"></span>',translate:!1,tooltip:!1}),a.module("mw-error-message").run(["$templateCache","$log","mwConfig",function(a,b,c){var d="",e="";1==c.translate&&(e="|translate"),angular.forEach(c.messages,function(a,b){d+='<ng-message when="'+b+'">{{"'+a+'"'+e+"}}</ng-message>"}),a.put("messages/tpl",d),a.put("mwErrorMessageTooltip/tpl",'<ol class="wm_error_tooltip"> <li ng-repeat="(key, value) in tooltip_content">{{value}}</li> </ol>');try{angular.module("ngMessages")}catch(a){b.error("NgMessages is missing")}}]),a.module("mw-error-message").directive("mwErrorMessage",["$compile","$log","mwConfig",function(a,c,d){return{restrict:"A",priority:1001,terminal:!0,scope:!0,compile:function(f,g){return{pre:function(f,g,h,i){var j={};h.mwErrorMessageOptions!==b&&(j=f.$parent[h.mwErrorMessageOptions]);var k=angular.copy(g.children(":first")),l="";k.attr("required")!==b&&(l="*"),k.attr("ng-required")!==b&&(l='<span ng-if="'+k.attr("ng-required")+'">*</span>');var m=k.attr("name"),n=h.mwErrorMessage,o="";1==d.translate&&(n+=m.toUpperCase(),o="|translate"),g.addClass(d.div_outer_classes.join(" "));var p="";p=j.addHelp!==b&&""!=j.addHelp?j.addHelp:d.additional_help_block;var q="";if((1==j.icon||j.icon===b&&1==d.icon)&&(q=d.icon_template),1==j.tooltip||j.tooltip===b&&1==d.tooltip)try{angular.module("ui.bootstrap.tooltip"),g[0].setAttribute("uib-tooltip-template","'mwErrorMessageTooltip/tpl'"),g[0].setAttribute("tooltip-placement","auto left"),f.tooltip_content={},angular.forEach(d.messages,function(a,c){k.attr(c)!==b&&(f.tooltip_content[c]=a)}),"email"==k.attr("type")&&(f.tooltip_content.email=d.messages.email)}catch(a){c.error("ui-bootstrap-tooltip is missing")}1==j.success||j.success===b&&1==d.success?g.attr("ng-class","{ 'has-error': form."+m+".$touched && form."+m+".$invalid, 'has-success': form."+m+".$touched && !form."+m+".$invalid}"):g.attr("ng-class","{ 'has-error': form."+m+".$touched && form."+m+".$invalid }");var r=g.html(),s='<label for="'+m+'" class="'+d.label_classes.join(" ")+'">{{ "'+n+'"'+o+" }}"+l+'</label><div class="'+d.div_inner_classes.join(" ")+'">'+q+r+p+'<div class="'+d.help_block_classes.join(" ")+'" ng-messages="form.'+m+'.$error" ng-if="form.'+m+'.$touched"><div ng-messages-include="messages/tpl"></div></div></div>';g.html(s),g.removeAttr("mw-error-message"),a(g)(f)}}}}}])}(angular);