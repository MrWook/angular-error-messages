/**
 * @version 1.1.0
 * @license MIT
 * @Author MrWook
 */
!function(a,b){"use strict";a.module("mw-error-message",[]),a.module("mw-error-message").constant("mwConfig",{icon:!1,icon_template:'<span class="fa wm_error_message_icon"></span>',success:!0,label_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12","control-label"],div_inner_classes:["col-xs-12","col-sm-12","col-md-12","col-lg-12"],div_outer_classes:["form-group","error_message_box"],help_block_classes:["help-block"],additional_help_block:"",messages:{required:"ERROR_MSG_REQUIRED",email:"ERROR_MSG_EMAIL",maxlength:"ERROR_MSG_TOLONG",minlength:"ERROR_MSG_TOSHORT"},translate:!1}),a.module("mw-error-message").run(["mwConfig","$templateCache",function(a,b){var c="",d="";1==a.translate&&(d="|translate"),angular.forEach(a.messages,function(a,b){c+='<ng-message when="'+b+'">{{"'+a+'"'+d+"}}</ng-message>"}),b.put("messages/tpl",c)}]),a.module("mw-error-message").directive("mwErrorMessage",["$compile","mwConfig",function(a,c){return{restrict:"A",priority:1001,terminal:!0,compile:function(e,f){return{pre:function(e,f,g,h){f.removeAttr("mw-error-message");var i="";(1==c.icon&&"true"==g.mwErrorMessageIcon||1==c.icon&&g.mwErrorMessageIcon==b||0==c.icon&&"true"==g.mwErrorMessageIcon)&&(i=c.icon_template);var j=angular.copy(f.children(":first")),k="";j.attr("required")!=b&&(k="*"),j.attr("ng-required")!=b&&(k='<span ng-if="::'+j.attr("ng-required")+'">*</span>');var l="";l=g.mwErrorMessageAddHelp!=b&&""!=g.mwErrorMessageAddHelp?g.mwErrorMessageAddHelp:c.additional_help_block;var m=j.attr("name"),n=g.mwErrorMessage;1==c.translate&&(n+=m.toUpperCase()),f.addClass(c.div_outer_classes.join(" ")),f.attr("ng-class","{ 'has-error': form."+m+".$touched && form."+m+".$invalid }"),(1==c.success&&"true"==g.mwErrorMessageSuccess||1==c.success&&g.mwErrorMessageSuccess==b||0==c.success&&"true"==g.mwErrorMessageSuccess)&&f.attr("ng-class","{ 'has-error': form."+m+".$touched && form."+m+".$invalid, 'has-success': form."+m+".$touched && !form."+m+".$invalid}");var o=f.html(),p='<label for="'+m+'" class="'+c.label_classes.join(" ")+'">{{ "'+n+'" }}'+k+'</label><div class="'+c.div_inner_classes.join(" ")+'">'+i+o+'<div class="'+c.help_block_classes.join(" ")+'" ng-messages="form.'+m+'.$error" ng-if="form.'+m+'.$touched">'+l+'<div ng-messages-include="messages/tpl"></div></div></div>';f.html(p),a(f)(e)}}}}}])}(angular);